---
title: 递归算法-小青蛙跳台阶
date: 2019-12-16 15:04:20
tags: 递归算法
---
&nbsp;&nbsp;&nbsp;&nbsp;一只青蛙一次可以跳上1级台阶，也可以跳上2级。求该青蛙跳上一个n级台阶总共有多少种跳法。
<!-- more -->
### 递归函数功能 ###
&nbsp;&nbsp;&nbsp;&nbsp;假设f(n)的功能是求青蛙跳上一个n级台阶总共有多少种方法，代码如下：
```java
int f(int n) {
	
}
```
### 找出递归结束的条件 ###
&nbsp;&nbsp;&nbsp;&nbsp;直接把n压缩到很小很小，因为n越小，我们就越容易直观算出f(n)等于多少，所以当n=1时，知道f(1)=1、所以代码如下：
```java
int f(int n) {
	if(n == 1) {
		return 1;
	}
}
```
### 找出函数的等价关系式 ###
&nbsp;&nbsp;&nbsp;&nbsp;每次跳的时候，小青蛙可以跳一个台阶，也可以跳两个台阶，也就是说，每次跳的时候，小青蛙有两种跳法。
&nbsp;&nbsp;&nbsp;&nbsp;第一种跳法：第一次跳了一个台阶，那么还剩下n-1个台阶没跳，剩下的n-1个台阶的跳法有f(n-1)种。
&nbsp;&nbsp;&nbsp;&nbsp;第二种跳法：第一次跳了两个台阶，那么还剩下n-2个台阶没跳，剩下的n-2个台阶的跳法有f(n-2)种。
&nbsp;&nbsp;&nbsp;&nbsp;所以，小青蛙的全部跳法就是这两种跳法之和了，即f(n) = f(n-1) + f(n-2)。至此，等价关系式就求出来了，代码如下：
```java
int f(int n) {
	if(n == 1) {
		return 1;
	}
	return f(n-1) + f(n-2);
}
```
&nbsp;&nbsp;&nbsp;&nbsp;上面的代码对吗？答案是不大对，当n=2时，显然会有f(2) = f(1) + f(0).我们知道，f(0)=0,按道理是递归结束，不用继续往下调用的，但我们上面的代码逻辑中，会继续调用f(0)=f(-1)+f(-2)。这会导致无限调用，进入死循环。
&nbsp;&nbsp;&nbsp;&nbsp;这也是要注意的，关于<b style="color:orangered">递归结束条件是否够严谨问题</b>，有很多人使用递归的时候，由于结束条件不够严谨，导致出现死循环。也就是说，当我们在第二步找出了一个递归结束条件的时候，可以把结束条件写进代码，然后进行第三步，但是请注意，当我们第三步找出等价函数之后，记得再返回第二步，根据第三步函数的调用关系，会不会出现一些漏掉的结束条件。就像上面，f(n-2)这个函数的调用，有可能出现f(0)的情况，导致死循环，所以我们把它补上。代码如下：
```java
int f(int n) {
	if(n <= 1) {
		return n;
	}
	return f(n-1) + f(n-2);
}
```