---
title: 递归算法-如何学习递归
date: 2019-12-15 16:38:08
tags: 递归算法
---
## 递归的三大要素 ##
#### 第一要素：明确你这个函数想干什么 ####
&nbsp;&nbsp;&nbsp;&nbsp;对于递归，很重要的一件事就是，<b style="color:orangered">这个函数的功能是什么，</b>它要完成什么样的一件事，而这个，是完全由你自己来定义的。也就是说，我们先不管函数里面的代码什么，而是要先明白你这个函数要用来干什么。
<!-- more -->
&nbsp;&nbsp;&nbsp;&nbsp;例如，我定了一个函数
```java
// 算n的阶乘(假设n不为0)
int f(int n){

}
```
&nbsp;&nbsp;&nbsp;&nbsp;这个函数的功能是算n的阶乘。好了，我们已经定义了一个函数，并且定义了它的功能是什么，接下来我们看第二要素。
#### 第二要素：寻找递归结束条件 ###
&nbsp;&nbsp;&nbsp;&nbsp;所谓递归，就是会在函数内部代码中，调用这个函数本身，所以，我们必须要找出<b style="color:orangered">递归的结束条件</b>，不然的话，会一直调用自己，进入无底洞。也就是说，我们需要找出<b style="color:orangered">当参数为什么值时，递归结束，之后直接把结果返回</b>，请注意，这个时候我们必须能根据这个参数的值，能够<b style="color:orangered">直接</b>知道函数的结果是什么。
&nbsp;&nbsp;&nbsp;&nbsp;例如，上面那个例子，当n=1时，那你应该能够直接知道f(n)=1。完善我们函数内部的代码，把第二要素加进代码里面，如下
```java
// 算n的阶乘(假设n不为0)
int f(int n) {
	if(n == 1) {
		return 1;
	}
}
```
&nbsp;&nbsp;&nbsp;&nbsp;有人可能会说，当n=2时，那我们可以直接知道f(n)等于多少啊，那我可以把n=2作为递归的结束条件吗？
&nbsp;&nbsp;&nbsp;&nbsp;当然可以，只要你觉得参数是什么时，你能够直接知道函数的结果，那么你就可以把这个参数作为结束的条件，所以下面这段代码也是可以的：
```java
// 算n的阶乘(假设n>=2)
int f(int n) {
	if(n == 2) {
		return 2;
	}
}
```
&nbsp;&nbsp;&nbsp;&nbsp;注意我代码里面写的注释，假设n>=2，因为如果n=1时，会被漏掉，当n<=2时，f(n)=n，所以为了更加严谨，我们可以写成这样：
```java
// 算n的阶乘(假设n不为0)
int f(int n) {
	if( n<= 2) {
		return n;
	}
}
```
#### 第三要素：找出函数的等价关系式 ####
&nbsp;&nbsp;&nbsp;&nbsp;第三要素就是，我们要<b style="color:orangered">不断缩小参数的范围</b>，缩小之后，我们可以通过一些辅助的变量或者操作，使原函数的结果不变。
&nbsp;&nbsp;&nbsp;&nbsp;例如，f(n)这个范围比较大，我们可以让f(n)=n \* f(n-1)。这样，范围就由n变成n-1了，范围变小了，并且为了原函数f(n)不变，我们需要让f(n-1)乘以n。说白了，就是要找到原函数的一个等价关系式，f(n)的等价关系式为n \* f(n-1),即f(n)=n \* f(n-1)。
&nbsp;&nbsp;&nbsp;&nbsp;找出了这个等价，继续完善我们的代码，我们把这个等价写进函数里，如下：
```java
// 算n的阶乘(假设n不为0)
int f(int n) {
	if(n <= 2) {
		return n;
	}
	// 把f(n)的等价操作写进去
	return f(n-1) * n;
}
```
&nbsp;&nbsp;&nbsp;&nbsp;至此，递归三要素已经都写进代码里了，所以这个f(n)功能的内部代码我们已经写好了。这就是递归最重要的三要素，每次做递归的时候，你就强迫自己试着去寻找这三个要素。